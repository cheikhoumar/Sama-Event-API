{"version":3,"file":"notification-sender-CnDBypD_.js","sources":["../../../.svelte-kit/adapter-node/chunks/notification-sender.js"],"sourcesContent":["import { d as defaultCurrencyFormatter } from \"./currency.formatter.js\";\nasync function sendEventStatusNotification(params) {\n  const { userId, eventId, status, eventName } = params;\n  let message;\n  switch (status) {\n    case \"PUBLISHED\":\n      message = `Your event \"${eventName}\" has been approved. Status: ${status}`;\n      break;\n    case \"REJECTED\":\n      message = `Your event \"${eventName}\" has been rejected. Status: ${status}`;\n      break;\n    case \"CANCELLED\":\n      message = `Your event \"${eventName}\" has been cancelled. Status: ${status}`;\n      break;\n    case \"DRAFT\":\n    default:\n      message = `Event \"${eventName}\". Status: ${status}`;\n      break;\n  }\n  return await prisma.notification.create({\n    data: {\n      userId,\n      message,\n      type: \"EVENT_STATUS\",\n      entityType: \"EVENT\",\n      entityId: eventId,\n      reads: { create: { userId } }\n    }\n  });\n}\nasync function sendWithdrawRequestNotification(params) {\n  const { userId, amount, id, method, from, status } = params;\n  return await prisma.notification.create({\n    data: {\n      userId,\n      message: `Withdraw: ${method} ${defaultCurrencyFormatter.format(\n        amount\n      )} from ${from}. Status: ${status}`,\n      type: \"WITHDRAW_STATUS\",\n      entityType: \"WITHDRAW_REQUEST\",\n      entityId: id,\n      reads: { create: { userId } }\n    }\n  });\n}\nexport {\n  sendWithdrawRequestNotification as a,\n  sendEventStatusNotification as s\n};\n"],"names":[],"mappings":";;AACA,eAAe,2BAA2B,CAAC,MAAM,EAAE;AACnD,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;AACxD,EAAE,IAAI,OAAO,CAAC;AACd,EAAE,QAAQ,MAAM;AAChB,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO,GAAG,CAAC,YAAY,EAAE,SAAS,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC,CAAC;AACjF,MAAM,MAAM;AACZ,IAAI,KAAK,UAAU;AACnB,MAAM,OAAO,GAAG,CAAC,YAAY,EAAE,SAAS,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC,CAAC;AACjF,MAAM,MAAM;AACZ,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO,GAAG,CAAC,YAAY,EAAE,SAAS,CAAC,8BAA8B,EAAE,MAAM,CAAC,CAAC,CAAC;AAClF,MAAM,MAAM;AACZ,IAAI,KAAK,OAAO,CAAC;AACjB,IAAI;AACJ,MAAM,OAAO,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC;AAC1D,MAAM,MAAM;AACZ,GAAG;AACH,EAAE,OAAO,MAAM,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;AAC1C,IAAI,IAAI,EAAE;AACV,MAAM,MAAM;AACZ,MAAM,OAAO;AACb,MAAM,IAAI,EAAE,cAAc;AAC1B,MAAM,UAAU,EAAE,OAAO;AACzB,MAAM,QAAQ,EAAE,OAAO;AACvB,MAAM,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,EAAE;AACnC,KAAK;AACL,GAAG,CAAC,CAAC;AACL,CAAC;AACD,eAAe,+BAA+B,CAAC,MAAM,EAAE;AACvD,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC9D,EAAE,OAAO,MAAM,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;AAC1C,IAAI,IAAI,EAAE;AACV,MAAM,MAAM;AACZ,MAAM,OAAO,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,EAAE,wBAAwB,CAAC,MAAM;AACrE,QAAQ,MAAM;AACd,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;AACzC,MAAM,IAAI,EAAE,iBAAiB;AAC7B,MAAM,UAAU,EAAE,kBAAkB;AACpC,MAAM,QAAQ,EAAE,EAAE;AAClB,MAAM,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,EAAE;AACnC,KAAK;AACL,GAAG,CAAC,CAAC;AACL;;;;"}